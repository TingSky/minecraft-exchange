<!DOCTYPE html>
<html lang="zh-CN">
<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>ä»»åŠ¡ä¸­å¿ƒ - æˆ‘çš„ä¸–ç•Œä»»åŠ¡ç§¯åˆ†å…‘æ¢ç³»ç»Ÿ</title>
		<link rel="stylesheet" href="/static/css/style.css">
		<script src="/static/js/main.js" defer></script>
	</head>
<body>
	<div class="minecraft-container">
		<header class="minecraft-header">
			<h1 class="minecraft-title">ä»»åŠ¡ä¸­å¿ƒ</h1>
			<div class="player-info">
				<span>ç©å®¶: {{.PlayerName}}</span>
				<div class="emerald-display">
					<img src="/static/images/image.png" alt="ç»¿å®çŸ³">
					<span class="emerald-count">{{.Emeralds}}</span>
				</div>
			</div>
		</header>

		<nav class="minecraft-nav">
			<a href="/" class="nav-link">é¦–é¡µ</a>
			<a href="/tasks" class="nav-link active">ä»»åŠ¡ä¸­å¿ƒ</a>
			<a href="/shop" class="nav-link">å…‘æ¢å•†åº—</a>
			<a href="/admin" class="nav-link">æ‘æ°‘ç®¡ç†</a>
		</nav>

		<main class="minecraft-main">
			<section class="task-section">
				<h2 class="section-title">å¯é¢†å–ä»»åŠ¡</h2>
				<div class="task-grid">
					{{range .Tasks}}
					<div class="task-card difficulty-{{.Difficulty}}">
						<div class="task-header">
							<h3>{{.Title}} <button class="read-aloud-btn" data-text="{{.Title}}" title="æœ—è¯»æ ‡é¢˜">ğŸ”Š</button></h3>
							<div class="task-reward">
								<img src="/static/images/image.png" alt="ç»¿å®çŸ³">
								<span>{{.Reward}}</span>
							</div>
						</div>
						<p class="task-description">{{.Description}} <button class="read-aloud-btn" data-text="{{.Description}}" title="æœ—è¯»æè¿°">ğŸ”Š</button></p>
						<div class="task-details">
							<span class="task-type">
								{{if eq .Type "daily"}}æ—¥å¸¸ä»»åŠ¡{{else if eq .Type "limited"}}é™æ—¶ä»»åŠ¡{{end}}
							</span>
							<span class="task-difficulty">
								{{if eq .Difficulty "easy"}}ç®€å•{{else if eq .Difficulty "medium"}}ä¸­ç­‰{{else if eq .Difficulty "hard"}}å›°éš¾{{end}}
							</span>
							<span class="task-expiry minecraft-time" data-expiry="{{.ExpiryTime}}">æˆªæ­¢: {{.ExpiryTime}}</span>
						</div>
						<form action="/claim_task" method="post" class="task-action">
							<input type="hidden" name="task_id" value="{{.ID}}">
							<button type="submit" class="minecraft-btn">é¢†å–ä»»åŠ¡</button>
						</form>
					</div>
					{{end}}
					{{if not .Tasks}}
					<div class="no-tasks">
						<p>å½“å‰æ²¡æœ‰å¯é¢†å–çš„ä»»åŠ¡</p>
					</div>
					{{end}}
				</div>
			</section>

			<section class="task-section">
				<h2 class="section-title">æˆ‘çš„ä»»åŠ¡</h2>
				<div class="task-grid">
					{{range .ClaimedTasks}}
					<div class="task-card claimed">
						<div class="task-header">
							<h3>{{.Title}} <button class="read-aloud-btn" data-text="{{.Title}}" title="æœ—è¯»æ ‡é¢˜">ğŸ”Š</button></h3>
							<div class="task-reward">
								<img src="/static/images/image.png" alt="ç»¿å®çŸ³">
								<span>{{.Reward}}</span>
							</div>
						</div>
						<p class="task-description">{{.Description}} <button class="read-aloud-btn" data-text="{{.Description}}" title="æœ—è¯»æè¿°">ğŸ”Š</button></p>
						<div class="task-details">
							<span class="task-type">
								{{if eq .Type "daily"}}æ—¥å¸¸ä»»åŠ¡{{else if eq .Type "limited"}}é™æ—¶ä»»åŠ¡{{end}}
							</span>
							<span class="task-difficulty">
								{{if eq .Difficulty "easy"}}ç®€å•{{else if eq .Difficulty "medium"}}ä¸­ç­‰{{else if eq .Difficulty "hard"}}å›°éš¾{{end}}
							</span>
							<span class="task-expiry minecraft-time" data-expiry="{{.ExpiryTime}}">æˆªæ­¢: {{.ExpiryTime}}</span>
						</div>
						{{if eq .Status "claimed"}}
						<form action="/complete_task" method="post" class="task-action">
							<input type="hidden" name="task_id" value="{{.ID}}">
							<button type="submit" class="minecraft-btn">æäº¤å®Œæˆ</button>
						</form>
						{{else if eq .Status "completed"}}
						<div class="task-action">
							<button type="button" class="minecraft-btn disabled" disabled="disabled">ç¡®è®¤ä¸­...</button>
						</div>
						{{else if eq .Status "verified"}}
						<div class="task-action">
							<button type="button" class="minecraft-btn disabled" disabled="disabled">å·²å®Œæˆ</button>
						</div>
						{{else}}
						<div class="task-action">
							<span>çŠ¶æ€: {{.Status}}</span>
						</div>
						{{end}}
					</div>
					{{end}}
					{{if not .ClaimedTasks}}
					<div class="no-tasks">
						<p>ä½ è¿˜æ²¡æœ‰é¢†å–ä»»ä½•ä»»åŠ¡</p>
					</div>
					{{end}}
				</div>
			</section>

			<section class="task-section">
				<h2 class="section-title">å³å°†å¼€å§‹çš„ä»»åŠ¡</h2>
				<div class="task-grid">
					{{range .UpcomingTasks}}
					<div class="task-card upcoming difficulty-{{.Difficulty}}">
						<div class="task-header">
							<h3>{{.Title}} <button class="read-aloud-btn" data-text="{{.Title}}" title="æœ—è¯»æ ‡é¢˜">ğŸ”Š</button></h3>
							<div class="task-reward">
								<img src="/static/images/image.png" alt="ç»¿å®çŸ³">
								<span>{{.Reward}}</span>
							</div>
						</div>
						<p class="task-description">{{.Description}} <button class="read-aloud-btn" data-text="{{.Description}}" title="æœ—è¯»æè¿°">ğŸ”Š</button></p>
						<div class="task-details">
							<span class="task-type">
								{{if eq .Type "daily"}}æ—¥å¸¸ä»»åŠ¡{{else if eq .Type "limited"}}é™æ—¶ä»»åŠ¡{{end}}
							</span>
							<span class="task-difficulty">
								{{if eq .Difficulty "easy"}}ç®€å•{{else if eq .Difficulty "medium"}}ä¸­ç­‰{{else if eq .Difficulty "hard"}}å›°éš¾{{end}}
							</span>
						</div>
						<div class="task-details">
							<span class="task-start minecraft-time" data-start="{{.StartTime}}">å¼€å§‹æ—¶é—´: {{.StartTime}}</span>
							<span class="task-expiry minecraft-time" data-expiry="{{.ExpiryTime}}">æˆªæ­¢æ—¶é—´: {{.ExpiryTime}}</span>
						</div>
						<div class="task-action">
							<button type="button" class="minecraft-btn disabled">ä»»åŠ¡æœªå¼€å§‹</button>
						</div>
					</div>
					{{end}}
					{{if not .UpcomingTasks}}
					<div class="no-tasks">
						<p>å½“å‰æ²¡æœ‰å³å°†å¼€å§‹çš„ä»»åŠ¡</p>
					</div>
					{{end}}
				</div>
			</section>

		</main>

		<footer class="minecraft-footer">
			<p>æˆ‘çš„ä¸–ç•Œä»»åŠ¡ç§¯åˆ†å…‘æ¢ç³»ç»Ÿ &copy; {{.Year}} - ä¸ºå­¦ä¹ æä¾›æ­£å‘åé¦ˆ</p>
		</footer>
	</div>
</body>
</html>